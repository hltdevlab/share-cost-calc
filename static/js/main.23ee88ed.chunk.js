(this["webpackJsonpshare-cost-calc"]=this["webpackJsonpshare-cost-calc"]||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),i=n.n(c),o=n(9),s=n.n(o),r=(n(24),n(3)),u=n(4),l=n(2);n(25);function f(t){var e=t.className,n=t.items,c=t.updateItems,i=function(t){var a=t.currentTarget.parentElement.querySelector(".".concat(e,"__item-text")).textContent.trim(),i=n.filter((function(t){return t!==a}));c(Object(r.a)(i))};return Object(a.jsx)("ul",{className:e,children:n.map((function(t){return Object(a.jsxs)("li",{className:"".concat(e,"__item"),children:[Object(a.jsx)("div",{className:"".concat(e,"__item-text"),children:t}),Object(a.jsx)("div",{className:"".concat(e,"__item-dots")}),Object(a.jsx)("button",{onClick:i,children:"X"})]},t)}))})}f.defaultProps={id:"list-items",className:"list-items",items:[],updateItems:function(){}};var d=f;n(26);function b(t){var e=t.id,n=t.className,i=t.title,o=t.fieldName,s=t.items,u=t.updateItems,f=Object(c.useState)(""),b=Object(l.a)(f,2),h=b[0],j=b[1],m=Object(c.useRef)(null);Object(c.useEffect)((function(){m.current.focus()}),[]);var p=function(){return function(t){return s.includes(t)}(m.current.value.trim())?(j("".concat(o," already exist!")),!1):(j(""),!0)},O=function(t){var e=m.current,n=e.value.trim();e.focus(),""!==n?p()&&(u([].concat(Object(r.a)(s),[n])),e.value=""):j("".concat(o," cannot be blank!"))};return Object(a.jsxs)("div",{id:e,className:n,children:[Object(a.jsx)("h1",{className:"".concat(n,"__title"),children:i}),Object(a.jsxs)("label",{className:"".concat(n,"__lbl"),htmlFor:"".concat(e,"__input"),children:[Object(a.jsx)("span",{className:"".concat(n,"__lbl-span"),children:"".concat(o,":")}),Object(a.jsx)("input",{id:"".concat(e,"__input"),className:h?"".concat(n,"__input-txt ").concat(n,"__input-txt--err"):"".concat(n,"__input-txt"),type:"text",ref:m,onKeyUp:function(t){p(),13===t.keyCode&&O()},onBlur:function(t){""===m.current.value.trim()&&j("")}}),Object(a.jsx)("span",{className:"err-msg",children:h})]}),Object(a.jsx)("button",{className:"".concat(n,"__btn"),onClick:O,children:"Add"}),Object(a.jsx)(d,{items:s,updateItems:u})]})}b.defaultProps={id:"add-items",className:"add-items",title:"Adding Items...",fieldName:"Item",items:[],updateItems:function(){}};var h=b;function j(t){return Object(a.jsx)(h,Object(u.a)({},t))}j.defaultProps={id:"add-people",title:"Adding People...",fieldName:"Name"};var m=j,p=function(t){var e="_";return e+=t.replaceAll(/[~ ! @ $ % ^ & * ( ) + = , . / \u2018 ; : \u201d ? > < \\[ \\] \\\\ { } \\| ` #]/g,"-").replaceAll("--","-")},O=function(t){return void 0===t||null===t||0===t.length},v=function(t){return void 0===t||null===t||JSON.stringify({})===JSON.stringify(t)},g=function(t){var e=function(t){return Math.round(100*t)/100}(t),n=String(e),a=new RegExp("^-*\\d+$","i");if(n.match(a))return n;var c=new RegExp("^-*\\d+\\.\\d$","i");return n.match(c)?"".concat(n,"0"):n};n(27);function N(t){var e=t.id,n=t.className,i=t.name,o=t.options,s=t.value,r=t.updateValue,u=Object(c.useState)(!1),f=Object(l.a)(u,2),d=f[0],b=f[1],h=Object(c.useRef)(null);Object(c.useEffect)((function(){r(j())}),[]),Object(c.useEffect)((function(){m()&&!d?b(!0):O()&&d&&b(!1)}),[s]);var j=function(){var t=h.current,e={};return t.querySelectorAll('input[type="checkbox"]').forEach((function(t){e[t.value]=t.checked})),e},m=function(){for(var t=0,e=Object.keys(s);t<e.length;t++){var n=e[t];if(!s[n])return!1}return!0},O=function(){for(var t=0,e=Object.keys(s);t<e.length;t++){var n=e[t];if(s[n])return!1}return!0};return Object(a.jsxs)("div",{id:e,className:n,ref:h,children:[o.map((function(t){var c=p(t);return Object(a.jsxs)("label",{htmlFor:"".concat(e,"__").concat(c),children:[Object(a.jsx)("input",{id:"".concat(e,"__").concat(c),className:"".concat(n,"__checkbox"),type:"checkbox",name:i,value:t,checked:!!s[t],onChange:function(t){r(j())}}),Object(a.jsx)("span",{children:t})]},t)})),Object(a.jsx)("button",{onClick:function(){h.current.querySelectorAll('input[type="checkbox"]').forEach((function(t){t.checked=!d})),b(!d),r(j())},children:d?"Deselect All":"Select All"})]})}N.defaultProps={id:"",className:"checkbox-group",name:"",options:[],value:{},updateValue:function(){}};var x=N;n(28);function y(t){var e=t.className,n=t.title,i=t.itemName,o=t.people,s=t.value,r=t.updateValue,l=Object(c.useRef)(null);return Object(a.jsxs)("div",{className:e,ref:l,children:[Object(a.jsxs)("h1",{className:"".concat(e,"__title"),children:["".concat(n," "),Object(a.jsx)("span",{className:"".concat(e,"__item-name"),children:i}),"?"]}),Object(a.jsx)(x,{id:p(i),name:p(i),options:o,value:s[i],updateValue:function(t){if(JSON.stringify(t)!==JSON.stringify(s[i])){var e={};e[i]=Object(u.a)({},t),r(e)}}})]})}y.defaultProps={className:"who-sharing",title:"Who Sharing",itemName:"",people:[],value:{},updateValue:function(){}};var _=y;n(29);function S(t){var e=t.id,n=t.className,i=t.title,o=t.itemName,s=t.fieldName,r=t.value,u=t.updateValue,f=Object(c.useState)(""),d=Object(l.a)(f,2),b=d[0],h=d[1],j=Object(c.useRef)(null),m=Object(c.useRef)(null);Object(c.useEffect)((function(){m.current.focus(),m.current.select(),u(O())}),[]);var p=function(){var t=m.current,e=parseFloat(t.value);if(isNaN(e))h("Please input valid number.");else if(t.min&&e<t.min)h("Value must not be lesser than ".concat(t.min,"."));else{if(!(t.max&&e>t.max))return h(""),!0;h("Value must not be more than ".concat(t.max,"."))}return!1},O=function(){var t={};if(p()){var e=m.current,n=parseFloat(e.value);return t[o]=n,t}return t[o]=0};return Object(a.jsxs)("div",{id:e,className:n,ref:j,children:[Object(a.jsxs)("h1",{className:"".concat(n,"__title"),children:["".concat(i," "),Object(a.jsx)("span",{className:"".concat(n,"__item-name"),children:o}),"?"]}),Object(a.jsxs)("label",{className:"".concat(n,"__lbl"),htmlFor:"".concat(e,"__input"),children:[Object(a.jsx)("span",{className:"".concat(n,"__lbl-span"),children:"".concat(s,":")}),Object(a.jsx)("input",{id:"".concat(e,"__input"),className:b?"".concat(n,"__input-txt ").concat(n,"__input-txt--err"):"".concat(n,"__input-txt"),type:"number",step:"0.01",min:"0",ref:m,value:r,onChange:function(t){p();var e=m.current,n={},a=parseFloat(e.value);n[o]=a,u(n)}}),Object(a.jsx)("span",{className:"err-msg",children:b})]})]})}S.defaultProps={id:"what-cost",className:"what-cost",title:"What is the Cost of",itemName:"",fieldName:"Cost ($)",value:0,updateValue:function(){}};var P=S;function T(t){var e=t.id,n=t.className,i=t.fieldName,o=t.options,s=t.errorMsg,u=t.value,l=t.updateValue,f=Object(c.useRef)(null),d=Object(c.useRef)(null);return Object(a.jsxs)("label",{htmlFor:e,ref:f,children:[Object(a.jsx)("span",{children:i?"".concat(i,":"):""}),Object(a.jsx)("select",{id:e,className:n,ref:d,value:u,onChange:function(t){var e=d.current;l(e.value)},children:[""].concat(Object(r.a)(o)).map((function(t,e){return""===t?Object(a.jsx)("option",{disabled:""!==u,children:"Please choose..."},t):Object(a.jsx)("option",{children:t},t)}))}),Object(a.jsx)("span",{className:"err-msg",children:s})]})}T.defaultProps={id:"",className:"",fieldName:"",options:[],errorMsg:"",value:"",updateValue:function(){}};var J=T;n(30);function A(t){var e=t.idPrefix,n=t.className,i=t.title,o=t.itemName,s=t.people,r=t.value,u=t.updateValue,f=Object(c.useState)(""),d=Object(l.a)(f,2),b=(d[0],d[1],Object(c.useRef)(null));return Object(a.jsxs)("div",{id:"".concat(e,"-").concat(p(o)),className:n,ref:b,children:[Object(a.jsxs)("h1",{className:"".concat(n,"__title"),children:["".concat(i," "),Object(a.jsx)("span",{className:"".concat(n,"__item-name"),children:o}),"?"]}),Object(a.jsx)(J,{id:"".concat(e,"-").concat(p(o),"__combobox"),options:s,errorMsg:"",value:r[o],updateValue:function(t){if(t!==r){var e={};e[o]=t,u(e)}}})]})}A.defaultProps={idPrefix:"who-paid",className:"who-paid",title:"Who Paid for",itemName:"",people:[],value:{},updateValue:function(){}};var E=A;n(31);function k(t){var e=t.className,n=t.title,c=t.summaryText;return Object(a.jsxs)("div",{className:e,children:[Object(a.jsx)("h1",{className:"".concat(e,"__title"),children:"".concat(n)}),Object(a.jsx)("pre",{className:"".concat(e,"__summary-text"),children:c})]})}k.defaultProps={className:"summary",title:"Summary",summaryText:""};var w=k,C=n(39),I=n(40);n(32);function R(t){var e=t.className,n=t.keyIndex,i=t.children,o=Object(c.useRef)(null);return Object(a.jsx)(C.a,{mode:"out-in",children:Object(a.jsx)(I.a,{nodeRef:o,classNames:e,timeout:200,children:Object(a.jsx)("div",{className:e,ref:o,children:i})},n)})}R.defaultProps={className:"switch-transition-container",keyIndex:0};var V=R;n(35);function F(t){var e=t.className,n=t.maxCount,c=t.pageIndex,i=t.updateIndex;return Object(a.jsxs)("div",{className:e,children:[0===c?null:Object(a.jsx)("button",{className:"pagination__prev-btn",onClick:function(){i(0===c?n-1:c-1)},children:"<"}),Object(a.jsx)("div",{className:"pagination__page-num-text",children:"".concat(c+1," / ").concat(n)}),c===n-1?null:Object(a.jsx)("button",{className:"pagination__next-btn",onClick:function(){i(c===n-1?0:c+1)},children:">"})]})}F.defaultProps={className:"pagination",maxCount:0,pageIndex:0,updateIndex:function(){}};var D=F,B=n(7),W=n(8),$=n(17),q=n(16),L=function(){function t(e,n){Object(B.a)(this,t),this.description=e,this.amount=n}return Object(W.a)(t,[{key:"getDescription",value:function(){return this.description}},{key:"getAmount",value:function(){return this.amount}},{key:"setAmount",value:function(t){this.amount=t}},{key:"equals",value:function(t){return JSON.stringify(this)===JSON.stringify(t)}},{key:"toString",value:function(){return"".concat(this.description,": $").concat(g(this.amount))}}]),t}(),M=function(t){Object($.a)(n,t);var e=Object(q.a)(n);function n(t,a){var c;return Object(B.a)(this,n),(c=e.call(this,t,a)).PAYABLE_TRANSACTION_DESC_PREFIX="pay to ",c.description="".concat(c.PAYABLE_TRANSACTION_DESC_PREFIX).concat(t),c}return Object(W.a)(n,[{key:"getPersonToPayTo",value:function(){var t=new RegExp("(".concat(this.PAYABLE_TRANSACTION_DESC_PREFIX,")*"),"i");return this.description.replace(t,"")}}]),n}(L),X=function(){function t(e){Object(B.a)(this,t),this.person=e,this.transactions=[],this.payableTransactions=[]}return Object(W.a)(t,[{key:"getTransactions",value:function(){return this.transactions}},{key:"addTransaction",value:function(t){this.transactions=[].concat(Object(r.a)(this.transactions),[t])}},{key:"getPayableTransactions",value:function(){return this.payableTransactions}},{key:"addPayableTransaction_old",value:function(t){var e=t.getDescription(),n=t.getAmount(),a=this.payableTransactions.find((function(t){return t.getDescription()===e}));if(a){var c=a.getAmount();a.setAmount(c+n)}else this.payableTransactions=[].concat(Object(r.a)(this.payableTransactions),[t])}},{key:"addPayableTransaction",value:function(t,e){var n=new M(t,e),a=this.payableTransactions.find((function(e){return e.getPersonToPayTo()===t}));if(a){var c=a.getAmount();a.setAmount(c+e)}else this.payableTransactions=[].concat(Object(r.a)(this.payableTransactions),[n])}},{key:"findPayableTransaction",value:function(t){return this.payableTransactions.find((function(e){return e.getPersonToPayTo()===t}))}},{key:"deletePayableTransaction",value:function(t){this.payableTransactions=this.payableTransactions.filter((function(e){return!e.equals(t)}))}},{key:"toString",value:function(){var t="".concat(this.person,":\n");return this.transactions.forEach((function(e){t+="  ".concat(e.toString(),"\n")})),t+="  --------------------\n",this.payableTransactions.forEach((function(e){t+="  ".concat(e.toString(),"\n")})),t+="  ====================\n\n"}}]),t}(),Y=function(t){var e=t.people,n=t.items,a=t.whoSharingJson,c=t.whatCostJson,i=t.whoPaidJson;if(O(e)||O(n)||v(a)||v(c)||v(i))return null;var o={};e.forEach((function(t){o[t]=new X(t)})),n.forEach((function(t){var e=c[t],n=i[t],a=o[n];a&&a.addTransaction(new L(t,-e))})),n.forEach((function(t){var n=c[t],i=a[t];if(i){var s=e.filter((function(t){return i[t]})),r=n/s.length;s.forEach((function(e){o[e].addTransaction(new L(t,r))}))}}));for(var s=function(){var t=Object(l.a)(u[r],2),e=t[0],n=t[1];n.getTransactions().filter((function(t){return t.getAmount()>0})).filter((function(t){var n=t.getDescription(),a=i[n];return e!==a})).forEach((function(t){var e=t.getDescription(),a=t.getAmount(),c=i[e];c&&n.addPayableTransaction(c,a)}))},r=0,u=Object.entries(o);r<u.length;r++)s();return e.forEach((function(t){var e=K(t,o);U(e)})),console.log(JSON.stringify(o,null,2)),e.forEach((function(t){var e=o[t];console.log(e.toString())})),z({people:e,whoSharingJson:a,whatCostJson:c,whoPaidJson:i}),o},K=function(t,e){var n=[],a=e[t];return a.getPayableTransactions().forEach((function(c){var i=c.getPersonToPayTo(),o=e[i];o.getPayableTransactions().forEach((function(e){if(e.getPersonToPayTo()===t){var i=[{ledger:a,payableTransaction:c},{ledger:o,payableTransaction:e}];n.push(i)}}))})),n},U=function(t){t.forEach((function(t){var e=t[0].ledger,n=t[0].payableTransaction,a=t[1].ledger,c=t[1].payableTransaction;n.getAmount()>c.getAmount()?(n.setAmount(n.getAmount()-c.getAmount()),a.deletePayableTransaction(c)):n.getAmount()<c.getAmount()?(c.setAmount(c.getAmount()-n.getAmount()),e.deletePayableTransaction(n)):(e.deletePayableTransaction(n),a.deletePayableTransaction(c))}))},z=function(t){for(var e=t.people,n=t.whoSharingJson,a=t.whatCostJson,c=t.whoPaidJson,i="",o=0,s=Object.entries(c);o<s.length;o++){var r=Object(l.a)(s[o],2),u=r[0],f=r[1],d=g(a[u]);i+="".concat(f," has paid $").concat(d," for ").concat(u,".\n")}for(var b=function(){var t=Object(l.a)(j[h],2),n=t[0],a=t[1];if(v(a))return i+="Nobody is sharing the ".concat(n,".\n"),"continue";for(var c=[],o=[],s=0,r=Object.entries(a);s<r.length;s++){var u=Object(l.a)(r[s],2),f=u[0];u[1]?c.push(f):o.push(f)}if(1===c.length){var d=c[0];i+="".concat(d," is accountable for the ").concat(n,".\n")}else if(1===o.length){var b=o[0];i+="Everyone except ".concat(b," is sharing the ").concat(n,".\n")}else if(e.length===c.length)i+="Everyone is sharing the ".concat(n,".\n");else if(e.length===o.length)i+="Nobody is sharing the ".concat(n,".\n");else{i=c.reduce((function(t,e,n){return 0===n?"".concat(t).concat(e):n===c.length-1?"".concat(t," and ").concat(e):"".concat(t,", ").concat(e)}),i),i+=" is sharing the ".concat(n,".\n")}},h=0,j=Object.entries(n);h<j.length;h++)b();return console.log(i),i};n(36);var G=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],i=e[1],o=Object(c.useState)([]),s=Object(l.a)(o,2),f=s[0],d=s[1],b=Object(c.useState)(""),j=Object(l.a)(b,2),p=j[0],O=j[1],v=Object(c.useState)(0),g=Object(l.a)(v,2),N=g[0],x=g[1],y=(Object(c.useRef)(null),Object(c.useState)({})),S=Object(l.a)(y,2),T=S[0],J=S[1],A=Object(c.useState)({}),k=Object(l.a)(A,2),C=k[0],I=k[1],R=Object(c.useState)({}),F=Object(l.a)(R,2),B=F[0],W=F[1];Object(c.useEffect)((function(){f.filter((function(t){return!n.includes(B[t])})).forEach((function(t){return B[t]=""}))}),[n]),Object(c.useEffect)((function(){T&&(Object.keys(T).filter((function(t){return!f.includes(t)})).forEach((function(t){delete T[t],delete C[t],delete B[t]})),J((function(t){return Object(u.a)({},t)})),I((function(t){return Object(u.a)({},t)})),W((function(t){return Object(u.a)({},t)})))}),[f]),Object(c.useEffect)((function(){O(function(t){var e=t.people,n=t.items,a=t.whoSharingJson,c=t.whatCostJson,i=t.whoPaidJson,o=Y({people:e,items:n,whoSharingJson:a,whatCostJson:c,whoPaidJson:i});if(!o)return"";var s=z({people:e,items:n,whoSharingJson:a,whatCostJson:c,whoPaidJson:i});return s+="******************************\n\n",e.forEach((function(t){var e=o[t];s+=e.toString()})),s}({people:n,items:f,whoSharingJson:T,whatCostJson:C,whoPaidJson:B}))}),[n,T,C,B]);var $=[Object(a.jsx)(m,{items:n,updateItems:function(t){var e=JSON.stringify(t);JSON.stringify(n)!==e&&(console.log("People:\n".concat(JSON.stringify(t))),i(t))}}),Object(a.jsx)(h,{items:f,updateItems:function(t){var e=JSON.stringify(t);JSON.stringify(f)!==e&&(console.log("Items:\n".concat(JSON.stringify(t))),d(t))}})],q=f.map((function(t){return Object(a.jsx)(_,{itemName:t,people:n,value:function(){var e={};return e[t]=Object(u.a)({},T[t]),e}(),updateValue:function(e){if(JSON.stringify(e)!==JSON.stringify(T[t])){var n=Object(u.a)(Object(u.a)({},T),e);console.log("WhoSharing:\n".concat(JSON.stringify(n,null,2))),J(n)}}},t)})),L=f.map((function(t){return Object(a.jsx)(E,{itemName:t,people:n,value:function(){var e={};return B[t]?e[t]=B[t]:e[t]="",e}(),updateValue:function(e){if(e&&JSON.stringify(e)!==JSON.stringify(B[t])){var n=Object(u.a)(Object(u.a)({},B),e);console.log("WhoPaid:\n".concat(JSON.stringify(n,null,2))),W(n)}}},t)})),M=f.map((function(t){return Object(a.jsx)(P,{itemName:t,value:C[t],updateValue:function(e){if(void 0!==e&&null!==e&&JSON.stringify(e)!==JSON.stringify(C[t])){var n=Object(u.a)(Object(u.a)({},C),e);console.log("WhatCost:\n".concat(JSON.stringify(n,null,2))),I(n)}}},t)}));return $=[].concat(Object(r.a)($),Object(r.a)(q),Object(r.a)(L),Object(r.a)(M)),""!==p&&($=[].concat(Object(r.a)($),[Object(a.jsx)(w,{summaryText:p})])),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(D,{maxCount:$.length,pageIndex:N,updateIndex:function(t){t!==N&&x(t)}}),Object(a.jsx)(V,{keyIndex:N,children:$[N]})]})},H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),i(t),o(t)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(G,{})}),document.getElementById("root")),H()}},[[37,1,2]]]);
//# sourceMappingURL=main.23ee88ed.chunk.js.map